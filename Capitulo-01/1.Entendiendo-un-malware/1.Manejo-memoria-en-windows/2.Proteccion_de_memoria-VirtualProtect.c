//2. Ejercicio 2: Implementa un programa que use `VirtualProtect` para cambiar las protecciones de un bloque de memoria de solo lectura a lectura-escritura.
#include <windows.h>
#include <stdio.h>

int main(){

    DWORD oldProtect;
    void* memory = VirtualAlloc(NULL, 1024, MEM_COMMIT | MEM_RESERVE, PAGE_READONLY);
    
    if(memory==NULL){
        printf("Error al asignar memoria\n");
        
        return 1;    
    }
    if(VirtualProtect(memory,1024,PAGE_READWRITE, &oldProtect)){

        printf("Proteccion cambiara a lectura-escritura\n");
    }else{
        printf("Error al cambiar proteccion\n");
    }
    
    if (VirtualFree(memory,0,MEM_RELEASE)){
        printf("La memoria se libero correctamente");
    }else{
        printf("Error al liberar la memoria");
    }

    
    return 0;
}